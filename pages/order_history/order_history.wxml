<!--pages/order_history/order_history.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->  <view class="header">
    <view class="back-btn" bindtap="goBack" hover-class="button-hover">
      <text class="back-icon">â†</text>
    </view>
    <view class="title">å†å²é…é€è®¢å•</view>
  </view>
  
  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="order-list" wx:if="{{!loading && orderList.length > 0}}">
    <view class="order-card" wx:for="{{orderList}}" wx:key="id" bindtap="viewOrderDetail" data-id="{{item.id}}">
      <view class="order-header">
        <view class="order-id">è®¢å•å·ï¼š{{item.id}}</view>
        <view class="order-status">{{item.status}}</view>
      </view>
      
      <view class="order-content">
        <view class="order-row">
          <view class="label">å•†å®¶ï¼š</view>
          <view class="value">{{item.restaurant}}</view>
        </view>
        <view class="order-row">
          <view class="label">é…é€åœ°å€ï¼š</view>
          <view class="value">{{item.address}}</view>
        </view>
        <view class="order-row">
          <view class="label">é…é€æ—¶é—´ï¼š</view>
          <view class="value">{{item.date}} {{item.time}}</view>
        </view>
        <view class="order-row">
          <view class="label">é…é€è·ç¦»ï¼š</view>
          <view class="value">{{item.distance}}</view>
        </view>
      </view>
      
      <view class="order-media">
        <view class="media-label">é…é€å‡­è¯ï¼š</view>
        <view class="media-preview">
          <view class="image-preview" wx:if="{{item.images.length > 0}}">
            <image class="preview-item" src="{{item.images[0]}}" mode="aspectFill"></image>
            <view class="preview-count" wx:if="{{item.images.length > 1}}">+{{item.images.length - 1}}</view>
          </view>
          <view class="video-preview" wx:if="{{item.video}}">
            <view class="video-icon">ğŸ¬</view>
          </view>
        </view>
      </view>
      
      <view class="order-footer">
        <view class="order-amount">Â¥{{item.amount}}</view>
        <view class="view-detail">æŸ¥çœ‹è¯¦æƒ… ></view>
      </view>
    </view>
  </view>
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && orderList.length === 0}}">
    <view class="empty-icon">ğŸ“­</view>
    <view class="empty-text">æš‚æ— å†å²è®¢å•è®°å½•</view>
  </view>
</view>
